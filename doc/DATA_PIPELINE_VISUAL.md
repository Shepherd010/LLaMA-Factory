# æ•°æ®ç”Ÿæˆç®¡é“å¯è§†åŒ–å¯¹æ¯”

## æ ¸å¿ƒåŒºåˆ«ä¸€ç›®äº†ç„¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     taskgenerate/ ç›®å½•                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  âœ“ åŒ…å«å†…å®¹ï¼š120ä¸ªåœºæ™¯çš„é™æ€å…ƒæ•°æ®                              â”‚
â”‚    â”œâ”€ kitchens/FloorPlan1/metadata.json                         â”‚
â”‚    â”‚  â””â”€ AI2THORåœºæ™¯å®Œæ•´ä¿¡æ¯ï¼šå¯¹è±¡ã€ä½ç½®ã€çŠ¶æ€ç­‰                â”‚
â”‚    â”œâ”€ living_rooms/FloorPlan201/metadata.json                   â”‚
â”‚    â”œâ”€ bedrooms/FloorPlan301/metadata.json                       â”‚
â”‚    â”œâ”€ bathrooms/FloorPlan401/metadata.json                      â”‚
â”‚    â””â”€ pick_up_and_put.json (ç‰©ä½“å…¼å®¹æ€§è§„åˆ™)                     â”‚
â”‚                                                                  â”‚
â”‚  âœ“ ä»å“ªæ¥ï¼šAI2THORæ¨¡æ‹Ÿå™¨åˆå§‹åŒ–æ—¶ç”Ÿæˆ                            â”‚
â”‚  âœ“ æ‰‹å·¥ä¿®æ”¹ï¼šä¸€èˆ¬ä¸éœ€è¦ï¼Œé™¤éè°ƒæ•´ç‰©ä½“å…¼å®¹è§„åˆ™                  â”‚
â”‚  âœ“ æ•°æ®é‡ï¼šçº¦ 50-100 MBï¼ˆJSONæ–‡æœ¬ï¼‰                            â”‚
â”‚  âœ“ æ˜¯å¦éœ€è¦VLMï¼šâŒ å¦                                           â”‚
â”‚  âœ“ æ˜¯å¦éœ€è¦GPUï¼šâŒ å¦                                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   TaskGenerate.py æ¨¡å—                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ğŸ“¥ è¾“å…¥ï¼š                                                       â”‚
â”‚    â”œâ”€ taskgenerate/kitchens/FloorPlan1/metadata.json             â”‚
â”‚    â””â”€ ä»»åŠ¡ç±»å‹å‚æ•°ï¼štask_type = "single_search"                 â”‚
â”‚                                                                  â”‚
â”‚  ğŸ”§ å¤„ç†é€»è¾‘ï¼ˆçº¯è§„åˆ™ï¼Œé›¶VLMï¼‰ï¼š                                 â”‚
â”‚    â”œâ”€ éå†æ‰€æœ‰ç‰©ä½“                                               â”‚
â”‚    â”œâ”€ åº”ç”¨è¿‡æ»¤æ¡ä»¶ï¼š                                             â”‚
â”‚    â”‚   â”œâ”€ ç‰©ä½“æ˜¯å¦å¯æ‹¿èµ·ï¼Ÿ is_pickupable()                      â”‚
â”‚    â”‚   â”œâ”€ ç‰©ä½“æ˜¯å¦åœ¨å®¹å™¨å†…ï¼Ÿ is_parent_floor_or_null()         â”‚
â”‚    â”‚   â”œâ”€ ç‰©ä½“å®¹å™¨æ˜¯å¦éœ€è¦æ‰“å¼€ï¼Ÿ is_parent_receptacle_openable()â”‚
â”‚    â”‚   â””â”€ ç‰©ä½“å±‚çº§æ˜¯å¦åˆé€‚ï¼Ÿ is_grandparent_floor_or_null()    â”‚
â”‚    â”œâ”€ æ»¡è¶³æ¡ä»¶ â†’ ç”Ÿæˆä»»åŠ¡                                        â”‚
â”‚    â”‚   â”œâ”€ taskname: éšæœºè¡¨è¿° (11ç§æ¨¡æ¿)                         â”‚
â”‚    â”‚   â”œâ”€ actions: å…³é”®è¡ŒåŠ¨åºåˆ—                                  â”‚
â”‚    â”‚   â””â”€ totalreward: è¡ŒåŠ¨æ•°é‡                                  â”‚
â”‚    â””â”€ éšæœºé‡‡æ ·ï¼šæ¯ä¸ªåœºæ™¯æœ€å¤šç”Ÿæˆ num ä¸ªä»»åŠ¡                      â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“¤ è¾“å‡ºï¼š                                                       â”‚
â”‚    â””â”€ {task_type}_task_metadata/{scene}.json                   â”‚
â”‚        â”œâ”€ FloorPlan1.json: [task1, task2, ...]                 â”‚
â”‚        â””â”€ FloorPlan2.json: [task3, task4, ...]                 â”‚
â”‚                                                                  â”‚
â”‚  âš™ï¸ ç‰¹æ€§ï¼š                                                       â”‚
â”‚    âœ“ é€Ÿåº¦ï¼šæ¯«ç§’çº§ï¼ˆçº¯CPUå¤„ç†ï¼‰                                  â”‚
â”‚    âœ“ æˆæœ¬ï¼š$0ï¼ˆæ— APIè°ƒç”¨ï¼‰                                     â”‚
â”‚    âœ“ VLMéœ€æ±‚ï¼šâŒ å¦                                             â”‚
â”‚    âœ“ è¾“å‡ºæ ·æœ¬ï¼š9,300+ ä»»åŠ¡æ¨¡æ¿                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  o1StyleGenerate.py æ¨¡å—                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  ğŸ“¥ è¾“å…¥ï¼š                                                        â”‚
â”‚    â”œâ”€ {task_type}_task_metadata/{scene}.json (æ¥è‡ªTaskGenerate)  â”‚
â”‚    â””â”€ AI2THOR è™šæ‹Ÿç¯å¢ƒï¼ˆéœ€å®æ—¶äº¤äº’ï¼‰                             â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”„ æ‰§è¡Œå¾ªç¯ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰ï¼š                                        â”‚
â”‚                                                                   â”‚
â”‚    for each_task:                                                â”‚
â”‚        â”œâ”€ åˆå§‹åŒ–è™šæ‹Ÿç¯å¢ƒ                                          â”‚
â”‚        â”œâ”€ RocAgent.initialize()                                  â”‚
â”‚        â”‚                                                         â”‚
â”‚        â””â”€ for each_step (max_steps = 10-20):                     â”‚
â”‚           â”œâ”€ 1ï¸âƒ£ è§‚å¯Ÿé˜¶æ®µ                                        â”‚
â”‚           â”‚  â””â”€ image = capture_screenshot()                    â”‚
â”‚           â”‚                                                     â”‚
â”‚           â”œâ”€ 2ï¸âƒ£ ã€é¦–æ­¥ã€‘è‡ªæˆ‘è§‚å¯Ÿ [VLMè°ƒç”¨]                     â”‚
â”‚           â”‚  â”œâ”€ VLMè¾“å…¥ï¼šprompt + å›¾åƒ                          â”‚
â”‚           â”‚  â”œâ”€ VLMè¾“å‡ºï¼š"<Observation>I see kitchen..."      â”‚
â”‚           â”‚  â””â”€ ä¿å­˜åˆ°è½¨è¿¹                                      â”‚
â”‚           â”‚                                                     â”‚
â”‚           â”œâ”€ 3ï¸âƒ£ æ€ç»´ç”Ÿæˆ [VLMè°ƒç”¨] â­å…³é”®                      â”‚
â”‚           â”‚  â”œâ”€ VLMè¾“å…¥ï¼šä»»åŠ¡+è§‚å¯Ÿ + å›¾åƒå†å²                   â”‚
â”‚           â”‚  â”œâ”€ VLMè¾“å‡ºï¼š"<Thought>Apple likely on..."        â”‚
â”‚           â”‚  â””â”€ åŒ…å«æ¨ç†ã€åˆ†æã€è§„åˆ’ã€åæ€                      â”‚
â”‚           â”‚                                                     â”‚
â”‚           â”œâ”€ 4ï¸âƒ£ è¡ŒåŠ¨å†³ç­– [VLMè°ƒç”¨]                             â”‚
â”‚           â”‚  â”œâ”€ VLMè¾“å…¥ï¼šæ€ç»´ + ä»»åŠ¡                            â”‚
â”‚           â”‚  â”œâ”€ VLMè¾“å‡ºï¼šè¡ŒåŠ¨æŒ‡ä»¤                               â”‚
â”‚           â”‚  â””â”€ parse_action() è§£æä¸ºå¯æ‰§è¡Œå‘½ä»¤                 â”‚
â”‚           â”‚                                                     â”‚
â”‚           â”œâ”€ 5ï¸âƒ£ æ‰§è¡Œè¡ŒåŠ¨ [æ— VLM]                               â”‚
â”‚           â”‚  â”œâ”€ rocAgent.execute(action)                        â”‚
â”‚           â”‚  â”œâ”€ è·å¾—ç¯å¢ƒåé¦ˆ                                    â”‚
â”‚           â”‚  â””â”€ æ£€æŸ¥æˆåŠŸ/å¤±è´¥                                   â”‚
â”‚           â”‚                                                     â”‚
â”‚           â”œâ”€ 6ï¸âƒ£ åæ€ï¼ˆå¦‚å¤±è´¥ï¼‰[VLMè°ƒç”¨]                        â”‚
â”‚           â”‚  â””â”€ "<Reflection>Navigation failed..."             â”‚
â”‚           â”‚                                                     â”‚
â”‚           â””â”€ 7ï¸âƒ£ ä¿å­˜è½¨è¿¹                                        â”‚
â”‚              â””â”€ trajectory.append({image, thinking, action})    â”‚
â”‚                                                                   â”‚
â”‚  ğŸ“¤ è¾“å‡ºï¼š                                                        â”‚
â”‚    â””â”€ {task_type}/FloorPlan{N}/trajectory_{idx}.json           â”‚
â”‚        â”œâ”€ images/: [step_0.png, step_1.png, ...]               â”‚
â”‚        â””â”€ trajectory: [obs, thought, decision, ...]            â”‚
â”‚                                                                   â”‚
â”‚  âš™ï¸ ç‰¹æ€§ï¼š                                                        â”‚
â”‚    âœ“ é€Ÿåº¦ï¼šæ¯æ¡è½¨è¿¹ 2-5 åˆ†é’Ÿï¼ˆå–å†³äºæ­¥æ•°ï¼‰                      â”‚
â”‚    âœ“ æˆæœ¬ï¼š$0.01-0.40/æ¡è½¨è¿¹ï¼ˆå–å†³äºæ¨¡å‹ï¼‰                     â”‚
â”‚    âœ“ VLMéœ€æ±‚ï¼šâœ… æ˜¯ï¼ˆå…³é”®ç»„ä»¶ï¼‰                                  â”‚
â”‚    âœ“ è¾“å‡ºæ ·æœ¬ï¼š64K å›¾åƒ + 8M æ€ç»´token                          â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ‰§è¡Œæ—¶é—´ä¼°ç®—

### æŒ‰åœºæ™¯å’Œä»»åŠ¡ç±»å‹åˆ†è§£

```
TaskGenerate.py æ‰§è¡Œæ—¶é—´ï¼š
â”œâ”€ single_search:            ~2 åˆ†é’Ÿ (120 åœºæ™¯ Ã— 1 ä»»åŠ¡)
â”œâ”€ single_search_from_closerep: ~3 åˆ†é’Ÿ
â”œâ”€ single_pickup:            ~2 åˆ†é’Ÿ
â”œâ”€ single_pickup_from_closerep: ~4 åˆ†é’Ÿ
â”œâ”€ single_toggle:            ~1 åˆ†é’Ÿ
â”œâ”€ pickup_and_put:           ~8 åˆ†é’Ÿ (æœ€å¤æ‚çš„è¿‡æ»¤)
â”œâ”€ pickup_and_put_in_closerep: ~6 åˆ†é’Ÿ
â”œâ”€ pickup_from_closerep_and_put: ~6 åˆ†é’Ÿ
â”œâ”€ pickup_from_closerep_and_put_in_closerep: ~8 åˆ†é’Ÿ
â””â”€ ordered_pickup_two_object_and_put: ~15 åˆ†é’Ÿ
                        æ€»è®¡ï¼š~55 åˆ†é’Ÿ âœ“ ä¸€æ¬¡æ€§ç”Ÿæˆ

o1StyleGenerate.py æ‰§è¡Œæ—¶é—´ï¼š
â”œâ”€ å•æ¡è½¨è¿¹ï¼ˆ10æ­¥ï¼‰ï¼š        ~3 åˆ†é’Ÿ
â”œâ”€ ä¸€ä¸ªåœºæ™¯ï¼ˆ10æ¡ï¼‰ï¼š        ~30 åˆ†é’Ÿ
â”œâ”€ ä¸€ä¸ªä»»åŠ¡ç±»å‹ï¼ˆ120åœºæ™¯Ã—10ï¼‰: ~50 å°æ—¶ âš ï¸
â””â”€ å®Œæ•´æ•°æ®é›†ï¼ˆ9.3Kæ¡ï¼‰ï¼š     ~500 å°æ—¶ / ~21å¤© âš ï¸âš ï¸
   (å–å†³äºå¹¶è¡Œåº¦å’ŒAPIé…é¢é™åˆ¶)
```

---

## VLM è°ƒç”¨é¢‘ç‡åˆ†æ

### o1StyleGenerate æ¯æ¡è½¨è¿¹çš„ VLM è°ƒç”¨æ¬¡æ•°

```
å‡è®¾ä»»åŠ¡ï¼šsingle_searchï¼Œæœ€å¤š 10 æ­¥

VLM è°ƒç”¨åˆ†å¸ƒï¼š
â”‚
â”œâ”€ step_0 (åˆå§‹åŒ–):
â”‚  â””â”€ generate_selfObs()           [1 æ¬¡è°ƒç”¨]
â”‚
â”œâ”€ step_1-9 (ä¸»å¾ªç¯):
â”‚  â”œâ”€ step æœ‰æœºä¼šå†³ç­–æ—¶:
â”‚  â”‚  â”œâ”€ generate_thinking()       [1 æ¬¡è°ƒç”¨]
â”‚  â”‚  â”œâ”€ generate_decision()       [1 æ¬¡è°ƒç”¨]
â”‚  â”‚  â””â”€ (å¦‚æœå¤±è´¥) generate_reflection() [0-1 æ¬¡è°ƒç”¨]
â”‚  â”‚
â”‚  â””â”€ ä¸€èˆ¬ 5-7 æ­¥ä¸­ä¼šæˆåŠŸï¼Œ2-3 æ­¥ä¼šå¤±è´¥æˆ–æ— å…³é”®å†³ç­–
â”‚
â””â”€ æ€»è®¡ï¼šçº¦ 15-25 æ¬¡ VLM è°ƒç”¨ / æ¡è½¨è¿¹

å®Œæ•´æ•°æ®é›†æ€»VLMè°ƒç”¨æ•°ï¼š
= 9,300 è½¨è¿¹ Ã— 20 å¹³å‡è°ƒç”¨æ•°
= 186,000 æ¬¡ VLM API è°ƒç”¨ âš ï¸âš ï¸âš ï¸

æˆæœ¬ä¼°ç®—ï¼š
- gpt-4o-mini: 186,000 Ã— $0.0075 â‰ˆ $1,400 (9,000 RMB)
- gpt-4-turbo: 186,000 Ã— $0.40 â‰ˆ $74,000 (480,000 RMB) âŒ
```

---

## æ•°æ®æµå‘å›¾

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ AI2THORæ¨¡æ‹Ÿå™¨   â”‚
                    â”‚ 120ä¸ªé¢„ç½®åœºæ™¯   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  utils.collect_metadata()  â”‚
                â”‚  (ä¸€æ¬¡æ€§æ‰§è¡Œ)          â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ taskgenerate/           â”‚
                    â”‚ â”œâ”€ kitchens/            â”‚
                    â”‚ â”œâ”€ living_rooms/        â”‚
                    â”‚ â”œâ”€ bedrooms/            â”‚
                    â”‚ â”œâ”€ bathrooms/           â”‚
                    â”‚ â””â”€ pick_up_and_put.json â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ TaskGenerate.py                â”‚
        â”‚ â”œâ”€ single_search()             â”‚
        â”‚ â”œâ”€ single_pickup()             â”‚
        â”‚ â”œâ”€ pickup_and_put()            â”‚
        â”‚ â””â”€ ... 10ç§ä»»åŠ¡ç±»å‹            â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
             â”‚                         â”‚
             â–¼ (å¦‚æœåªéœ€ä»»åŠ¡æ¨¡æ¿)      â–¼ (å¦‚æœéœ€è¦è½¨è¿¹)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ *_task_metadata/    â”‚    â”‚  o1StyleGenerate.py â”‚
   â”‚ â””â”€ FloorPlan{N}.jsonâ”‚    â”‚  (è°ƒç”¨VLM)          â”‚
   â”‚    [å·²å®Œæˆä»»åŠ¡]      â”‚    â”‚  for each task:     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”œâ”€ åˆå§‹åŒ–ç¯å¢ƒ      â”‚
                              â”‚  â”œâ”€ å¾ªç¯æ‰§è¡Œ10æ­¥    â”‚
                              â”‚  â””â”€ ç”Ÿæˆè½¨è¿¹JSON    â”‚
                              â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ {task_type}/FloorPlan{N}/ â”‚
                    â”‚ â”œâ”€ trajectory_0.json      â”‚
                    â”‚ â”œâ”€ trajectory_1.json      â”‚
                    â”‚ â”œâ”€ images/                â”‚
                    â”‚ â”‚  â”œâ”€ step_0.png          â”‚
                    â”‚ â”‚  â”œâ”€ step_1.png          â”‚
                    â”‚ â”‚  â””â”€ ...                 â”‚
                    â”‚ â””â”€ ...                    â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ finetune/             â”‚
                    â”‚ â”œâ”€ LLaMA-Factory      â”‚
                    â”‚ â”œâ”€ Stage 1: æ¨¡ä»¿å­¦ä¹   â”‚
                    â”‚ â”œâ”€ Stage 2: è‡ªæ¢ç´¢    â”‚
                    â”‚ â””â”€ Stage 3: è‡ªæ”¹è¿›    â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Embodied-Reasoner     â”‚
                    â”‚ å¾®è°ƒåçš„æ¨¡å‹          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…³é”®é…ç½®æ–‡ä»¶ä¸€è§ˆ

### å¿…é¡»ä¿®æ”¹ âœ…

```
1. data_engine/VLMCallapi_keys.py
   - æ·»åŠ  OpenAI API Keyï¼ˆæˆ–å…¶ä»–VLMçš„keyï¼‰
   
2. data_engine/o1StyleGenerate.py ä¸»ç¨‹åº
   - ä¿®æ”¹ model = "gpt-4o-2024-11-20" (å¯é€‰)
   - ä¿®æ”¹ tasktype = "single_search" (ä»»åŠ¡ç±»å‹)
```

### å¯é€‰ä¿®æ”¹ ğŸ”„

```
3. data_engine/vlmCall.py
   - ä¿®æ”¹ API ç«¯ç‚¹ (ä½¿ç”¨æœ¬åœ°æ¨¡å‹æˆ–å…¶ä»–VLM)
   - ä¿®æ”¹è¶…æ—¶æ—¶é—´å’Œé‡è¯•é€»è¾‘
   
4. data_engine/TaskGenerate.py
   - ä¿®æ”¹è¿‡æ»¤æ¡ä»¶ï¼ˆè°ƒæ•´ä»»åŠ¡éš¾åº¦ï¼‰
   - ä¿®æ”¹è¡¨è¿°æ¨¡æ¿ï¼ˆè‡ªç„¶è¯­è¨€è¡¨è¾¾ï¼‰
```

### ä¸éœ€ä¿®æ”¹ âŒ

```
5. taskgenerate/*.json
   - è¿™æ˜¯AI2THORçš„åŸå§‹æ•°æ®ï¼Œä¸éœ€æ”¹åŠ¨
```

---

## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# 1. ç”Ÿæˆä»»åŠ¡æ¨¡æ¿ï¼ˆå¿«ï¼Œ~1å°æ—¶ï¼Œæ— éœ€VLMï¼‰
cd data_engine
python TaskGenerate.py

# 2. ç”Ÿæˆå•ä¸ªä»»åŠ¡çš„è½¨è¿¹ï¼ˆæ…¢ï¼Œ~3åˆ†é’Ÿ/æ¡ï¼Œéœ€VLMï¼‰
python o1StyleGenerate.py

# 3. æ£€æŸ¥ç”Ÿæˆçš„ä»»åŠ¡
cat single_search_task_metadata/FloorPlan1.json | python -m json.tool

# 4. æ£€æŸ¥ç”Ÿæˆçš„è½¨è¿¹
cat single_search/FloorPlan1/trajectory_0.json | python -m json.tool

# 5. æŸ¥çœ‹è½¨è¿¹ä¸­çš„å›¾åƒ
ls single_search/FloorPlan1/images/

# 6. ç»Ÿè®¡ä»»åŠ¡æ•°é‡
find . -name "*.json" -path "*_task_metadata/*" | wc -l

# 7. ç»Ÿè®¡ç”Ÿæˆçš„è½¨è¿¹
find . -name "trajectory_*.json" | wc -l
```

---

## æœ€åä¸€ä¸ªå¯¹æ¯”è¡¨

| ç‰¹æ€§ | taskgenerate/ | TaskGenerate.py | o1StyleGenerate.py |
|------|--------------|-----------------|-------------------|
| **åŒ…å«åœºæ™¯æ•°** | 120ä¸ª | - | - |
| **æ–‡ä»¶ç±»å‹** | metadata.json | - | - |
| **éœ€è¦VLM?** | âŒ | âŒ | âœ… |
| **éœ€è¦GPU?** | âŒ | âŒ | âŒ (é™¤éæœ¬åœ°æ¨¡å‹) |
| **æ‰§è¡Œæ—¶é—´** | (é™æ€) | ~55åˆ†é’Ÿ | ~500å°æ—¶ (æ€») |
| **æ¯æ¡è½¨è¿¹æ—¶é—´** | - | - | 2-5åˆ†é’Ÿ |
| **APIæˆæœ¬/æ¡** | $0 | $0 | $0.01-0.40 |
| **è¾“å‡º** | å…ƒæ•°æ® | 9.3K ä»»åŠ¡ | 64K å›¾åƒ + è½¨è¿¹ |
| **ä½•æ—¶è¿è¡Œ** | ç¬¬0æ­¥ | ç¬¬1æ­¥ | ç¬¬2æ­¥ |

---

## æ€»ç»“ä¸‰å¥è¯

ğŸ¯ **TaskGenerate.py æ˜¯"é¢˜åº“ç”Ÿæˆæœº"**
- è¾“å…¥ï¼šåœºæ™¯çš„å¯¹è±¡æ¸…å•
- è¾“å‡ºï¼šå¤šç§éš¾åº¦çš„é¢˜ç›®
- ç‰¹ç‚¹ï¼šçº¯é€»è¾‘ï¼Œé›¶æˆæœ¬

ğŸ¯ **o1StyleGenerate.py æ˜¯"è½¨è¿¹å½•åˆ¶æœº"**
- è¾“å…¥ï¼šé¢˜ç›®
- è¾“å‡ºï¼šAIè§£é¢˜è¿‡ç¨‹ (æ€ç»´+è¡ŒåŠ¨+å›¾åƒ)
- ç‰¹ç‚¹ï¼šéœ€è¦VLMï¼Œéœ€è¦é’±

ğŸ¯ **åç»­æ˜¯"æ¨¡å‹å­¦ä¹ æœº"**
- è¾“å…¥ï¼šè½¨è¿¹æ•°æ®
- è¾“å‡ºï¼šå¾®è°ƒåçš„æ¨¡å‹
- ç‰¹ç‚¹ï¼šåœ¨LLaMA-Factoryä¸­è¿›è¡Œ
